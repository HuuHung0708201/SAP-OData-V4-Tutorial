<mvc:View
    controllerName="base.controller.Step04"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc">
    <Shell>
        <App busy="{appView>/busy}" class="sapUiSizeCompact">
            <pages>
                <Page title="{i18n>TextStep04}" showNavButton="true"
                    navButtonPress=".onNavBack">
                    <content>
                        <Table
                            id="peopleList"
                            growing="true"
                            growingThreshold="10"
                            items="{ path: '/People',
                            parameters: {
									$count: true
								}
                             }"
                            
                            >
                            <headerToolbar>
                                <OverflowToolbar>
                                    <content>
                                        <ToolbarSpacer/>
                                        <SearchField
											id="searchField"
											width="20%"
											placeholder="{i18n>searchFieldPlaceholder}"
											search=".onSearch"/>
                                        <Button
                                            id="refreshUsersButton"
                                            icon="sap-icon://refresh"
                                            tooltip="{i18n>refreshButtonText}"
                                            press=".onRefresh"
                                        />
                                        <Button
											id="sortUsersButton"
											icon="sap-icon://sort"
											tooltip="{i18n>sortButtonText}"
											press="onSort"/>
                                    </content>
                                </OverflowToolbar>
                            </headerToolbar>
                            <columns>
                                <Column id="userNameColumn">
                                    <Text text="{i18n>userNameLabelText}"/>
                                </Column>
                                <Column id="firstNameColumn">
                                    <Text text="{i18n>firstNameLabelText}"/>
                                </Column>
                                <Column id="lastNameColumn">
                                    <Text text="{i18n>lastNameLabelText}"/>
                                </Column>
                                <Column id="ageColumn">
                                    <Text text="{i18n>ageLabelText}"/>
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Input value="{UserName}"/>
                                        <Input value="{FirstName}"/>
                                        <Input value="{LastName}"/>
                                        <Input 
                                            value="{Age}"
                                            type="sap.ui.model.type.Integer"
                                            constraints="{nullable: false, minimum: 0}"
                                            change=".onAgeChange"
/>
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </content>
                </Page>
            </pages>
        </App>
    </Shell>
</mvc:View>
<!-- 
-   Trong bước này, chúng ta thêm các tính năng để lọc, sắp xếp và đếm dữ liệu người dùng bằng cách sử dụng API của OData V4 model để áp dụng các tùy chọn truy vấn hệ thống của OData: $filter, $orderby và $count.
 -->